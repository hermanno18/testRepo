{% extends 'base.html.twig' %}

{% block title %}Register{% endblock %}
{% block main %}
    <main class="page registration-page">
        <section class="clean-block clean-form dark">
            <div class="container">




                <div class="block-heading">
                    <h2 class="text-info">Creation de compte</h2>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc quam urna, dignissim nec auctor in, mattis vitae leo.</p>
                </div>
                {% if app.user %}
                    <div class="mb-3">
                        {{ app.user.username }} Vous êtes deja connecté. vous ne pouvez plus remplir le formulaire d'enregistrement
                    </div>
                {% else %}
                    {{ form_start(registrationForm) }}
                    {% for flashError in app.flashes('verify_email_error') %}
                        <div class="alert alert-danger" role="alert">{{ flashError }}</div>
                    {% endfor %}
                        <div class="form-group">{{ form_row(registrationForm.pseudo, {'attr': {'class':'form-control'}}) }}</div>
                        <div class="form-group">{{ form_row(registrationForm.email, {'attr': {'class':'form-control'}}) }}</div>
                        <div class="form-group">{{ form_row(registrationForm.plainPassword, {
                                                    label: 'Password',
                                                    'attr': {'class':'form-control'}
                                                }) }}
                        </div>
                        <div class="form-group ml-4">{{ form_widget(registrationForm.agreeTerms, {'attr': {'class':'form-check-input'}}) }}
                            <label for="registration_form_agreeTerms" class="required"> I agree Terms</label>
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">Register</button>
                    {{ form_end(registrationForm) }}      
                {% endif %}
                

            </div>
        </section>
    </main>
{% endblock %}
